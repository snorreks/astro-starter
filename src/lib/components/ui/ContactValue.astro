---
// src/lib/components/ui/ContactValue.astro
/**
 * Renders a contact detail (e.g., email, phone, address) with a label and a link.
 * The link is automatically generated based on the `type` of contact.
 */
type Props = {
  /** The label for the contact detail (e.g., "Email", "Phone"). Required. */
  label: string;
  /** The type of contact, which determines the link format. Required. */
  type: 'email' | 'tel' | 'address';
  /** The contact value (e.g., the email address or phone number). Required. */
  value: string;
};

const { type, value, label } = Astro.props;

let href: string;
switch (type) {
  case 'email':
    href = `mailto:${value}`;
    break;
  case 'tel':
    href = `tel:${value}`;
    break;
  case 'address':
    href = `https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(value)}`;
    break;
}
---

<div class="flex items-start gap-4">
  <span class="text-muted-foreground w-16 flex-shrink-0 text-sm font-semibold">
    {label}
  </span>
  <a
    href={href}
    rel="noopener noreferrer"
    target="_blank"
    class="text-foreground hover:text-muted-foreground transition-colors duration-300"
  >
    {value}
  </a>
</div>
